/* (c) 2008, 2009, 2010 Add This, LLC */
(function(b,c,e){var a,f=document,k=b.util;function j(m){if(_atc.xck){return}var l=m||_ate.dh||_ate.du||(_ate.dl?_ate.dl.hostname:"");if(l.indexOf(".gov")>-1||l.indexOf(".mil")>-1){_atc.xck=1}var n=typeof(b.pub)==="function"?b.pub():b.pub,d=["usarmymedia","govdelivery"];for(i in d){if(n==d[i]){_atc.xck=1;break}}}function g(l,d){if(f.cookie){f.cookie=l+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"+(d?"; domain="+(b.bro.msi?"":".")+"addthis.com":"")}}function h(m,l,n,o){j();if(!_atc.xck){var d=new Date();d.setYear(d.getFullYear()+2);document.cookie=m+"="+l+(!n?"; expires="+d.toUTCString():"")+"; path=/;"+(!o?" domain="+(b.bro.msi?"":".")+"addthis.com":"")}}if(!b.cookie){b.cookie={}}b.cookie.sck=h;b.cookie.kck=g;b.cookie.gov=j})(_ate,_ate.api,_ate);_ate.extend(addthis,{counter:(function(){var u=1,C=_ate,A=document,p=window,r=addthis,f={},l=p.addthis_config,m=p.addthis_share,t=function(w,d,a){w/=d;w=Math.round(w*10)/10;if((w+"").length>4){w=Math.round(w)}return w+a},k=function(a){var d=(""+a).split(".").shift().length;if(isNaN(a)){return a}else{if(d<4){return Math.round(a)}else{if(d<7){return t(a,1000,"K")}else{if(d<10){return t(a,1000000,"M")}else{return t(a,1000000000,"B")}}}}},s=function(d){try{if(p.JSON&&p.JSON.parse){return JSON.parse(d)}}catch(a){return{}}},q=function(d){try{if(p.JSON&&p.JSON.stringify){return JSON.stringify(d)}}catch(a){return""}},h=function(d){var a=_ate.cookie.rck("_atshc");if(a){return(s(a)||{})[d]||-1}return -1},c=function(d,w){var a=_ate.cookie.rck("_atshc"),E;if(a){a=s(a);E=(a||{})[d]||0;if(E&&w>=E){delete a[d];_ate.cookie.sck("_atshc",q(a),1,1)}}},B=function(d){var a=_ate.cookie.rck("_atshc"),w=D(d)+1;d.shares=w;y(d,k(w));if(!a){a={}}else{a=s(a)}if(a[d.url]){delete a[d.url]}o[d.url]=a[d.url]=w;_ate.cookie.sck("_atshc",q(a),1,1)},D=function(a){var d=0;if(a&&a.shares){d=a.shares;if(isNaN(d)){d=0}}return d},y=function(a,G){if(!a){return}if(a.firstChild&&a.firstChild.nodeType==3){a.removeChild(a.firstChild)}if(!a.firstChild){var E=A.ce("a"),w=A.ce("a"),d=A.ce("span"),F=A.createTextNode("Share"),H=a.addthis_conf||{},I=a.addthis_share||{},J=a.className.indexOf("pill_style")>-1;E.className="addthis_button_expanded";w.className="atc_s addthis_button_compact";a.appendChild(E);a.appendChild(w);w.appendChild(d);d.appendChild(F);if(document.compatMode=="BackCompat"){if(_ate.bro.web){d.style.lineHeight="18px"}else{if(_ate.bro.msi&&J){E.style.lineHeight="16px"}}}H.ui_offset_top=_ate.bro.msi?0:18;H.ui_offset_left=-4;H.product="sco"+(J?"pl":"")+"-"+_atc.ver;addthis.button(w,H,I);addthis._render([E],{conf:H,share:I},{nohover:true,singleservice:"more"})}if(a.firstChild.firstChild){a.firstChild.removeChild(a.firstChild.firstChild)}G=A.createTextNode(G);a.firstChild.appendChild(G)},b=function(a,d){a.shares=d;y(a,k(d))},g=[],n=function(a,E,F){var d=0,w=h(a.url);if(E.error){d="?"}else{d=E.shares}if(!isNaN(w)&&((isNaN(d)&&w>0)||w>d)){d=w}else{c(a.url,d)}if(!o[a.url]){o[a.url]=d}F(a,d)},o={},x={},z=function(a,E){var d=h(a.url);if(!x[a.url]){x[a.url]=[]}x[a.url].push(a);_ate.ed.addEventListener("addthis.menu.share",function(F){try{if(F.data.service&&_ate.track.mgu(F.data.url,{clean:1,defrag:1})==a.url){B(a)}}catch(F){}});if(o[a.url]!==undefined){E(a,o[a.url])}else{if(!isNaN(d)&&d>0){E(a,d)}var w="sc_"+encodeURIComponent(a.url).replace(/[0-3][A-Z]|[^a-zA-Z0-9]/g,"");_ate.track.apc("sco"+(a.className.indexOf("pill_style")>-1?"pl":"")+"-"+_atc.ver);if(!_ate.cbs){_ate.cbs={}}if(!_ate.cbs[w]){_ate.cbs[w]=function(G){clearTimeout(f[w]);if(u){var H=((new Date()).getTime()-_ate.cbs["time_"+w]);img=new Image();C.imgz.push(img);img.src="//l.addthiscdn.com/live/t00/mu.gif?a=sc&"+(isNaN(H)?"err=1":"t="+H)}if(G&&!G.error&&G.shares){o[a.url]=G.shares}for(var F=0;F<x[a.url].length;F++){n(x[a.url][F],G,E)}};_ate.cbs["time_"+w]=(new Date()).getTime();_ate.ajs("//api-public.addthis.com/url/shares.json?url="+_euc(a.url)+"&callback=_ate.cbs."+encodeURIComponent(w),1);clearTimeout(f[w]);f[w]=_ate.sto(function(){for(var F=0;F<x[a.url].length;F++){n(x[a.url][F],{error:{message:"server timed out",code:999}},E)}},10000)}}},j=function(H,w,G){if(H){H=addthis._select(H);for(var E=0;E<H.length;E++){var a=H[E],F=((a.parentNode||{}).className||"").indexOf("addthis_toolbox")>-1?addthis.util.getAttributes(a.parentNode,w,G):null,d=addthis.util.getAttributes(a,F?F.conf:w,F?F.share:G,true);if(!a.ost){if(a.className.indexOf("addthis_counter")==-1){a.className+=" addthis_counter"}a.url=_ate.track.mgu((G||{}).url||d.share.url||(p.addthis_share||{}).url,{clean:1,defrag:1});a.addthis_conf=d.conf;a.addthis_share=d.share;a.ost=1;y(a,"--");z(a,function(I,J){b(I,J)})}}}};function v(w,a,d){j(w,a,d)}function e(){var d=addthis.counter.selects;addthis.counter=v;addthis.counter.ost=1;addthis.counter(".addthis_counter");if(d){for(var a=0;a<d.length;a++){addthis.counter(d[a].counter,d[a].config,d[a].share)}}}if(_adr.isReady){e();return v}else{addthis.addEventListener("addthis.ready",e);return addthis}})()});